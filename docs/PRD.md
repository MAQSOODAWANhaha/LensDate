# 约拍平台 PRD（Flutter 移动端 + Rust 后端）

> 文档版本：v1.0（草案）
> 更新日期：2026-01-16
> 负责人：产品 / 平台

## 1. 背景与机会
约拍行业存在信息不对称、履约不稳定、沟通成本高与信任建立困难等问题。平台通过标准化供需匹配、流程化交易与信用体系，降低撮合成本并提升履约体验。

## 2. 产品目标
### 2.1 业务目标
- 建立稳定供给（摄影师/团队）与高质量需求（用户）双边网络。
- 提升撮合效率与履约率。
- 构建可持续的商业化路径。

### 2.2 北极星指标（建议）
- **完成订单数（已履约订单）/月**

### 2.3 关键指标（示例）
- 供给侧：入驻摄影师/团队数、认证通过率、活跃率、响应时长
- 需求侧：发布需求数、下单转化率、订单完成率、复购率
- 交易侧：订单平均成交价、取消率、纠纷率、评价均分

## 3. 范围与非目标
### 3.1 范围（纳入）
- 用户、摄影师/团队、管理员三类角色体系
- 需求发布、匹配、沟通、预约、支付、履约、评价全流程
- 基础内容与风控治理（审核、举报、黑名单）
- 移动端（iOS/Android）+ 管理后台
- 需求侧重点：个人用户约拍 + 瑜伽馆客户（商户/品牌）

### 3.2 非目标（不纳入）
- 摄影师线下器材租赁、培训等生态扩展
- 深度 AI 修图、智能后期等高级能力
- 多国家多币种合规与税务系统（留作后续）

## 4. 用户与角色
### 4.1 角色定义
- **摄影师/摄影团队（供给侧）**：提供摄影服务，管理档期与报价。
- **用户（需求侧）**：发布约拍需求、选择摄影师、完成支付与评价。
- **平台管理员**：审核资质、处理投诉、内容治理与运营管理。

### 4.2 角色目标与痛点
- 摄影师/团队：获取稳定订单、减少沟通成本、降低违约风险。
- 用户：快速找到合适摄影师、价格透明、服务可靠。
- 管理员：保障平台质量与合规、降低纠纷。

### 4.3 需求侧细分
- **个人用户**：写真、情侣/家庭、活动跟拍等一次性/低频需求。
- **瑜伽馆客户（商户/品牌）**：课程宣传、场馆形象、活动/赛事等复购/批量需求。

## 5. 权限与能力矩阵（概要）
| 能力/角色 | 用户 | 摄影师/团队 | 管理员 |
|---|---|---|---|
| 发布需求 | ✅ | ❌ | ❌ |
| 接单/报价 | ❌ | ✅ | ❌ |
| 聊天沟通 | ✅ | ✅ | ✅（审计/调解） |
| 下单/支付 | ✅ | ❌ | ❌ |
| 订单管理 | ✅（自己的） | ✅（自己的） | ✅（全量） |
| 内容/资质审核 | ❌ | ❌ | ✅ |
| 纠纷处理 | ❌ | ❌ | ✅ |

## 6. 典型场景与用户旅程
### 6.1 用户旅程（需求侧）
1) 浏览/搜索摄影师或发布需求
2) 收到摄影师报价/匹配推荐
3) 选择摄影师 → 确认档期与方案
4) 订单确认 → 支付定金/全款
5) 履约完成 → 评价与复购

### 6.2 摄影师旅程（供给侧）
1) 申请入驻 → 资质认证 → 上架作品
2) 接收需求 → 报价与方案沟通
3) 确认订单 → 履约 → 结算
4) 评价管理与复购维护

### 6.3 瑜伽馆客户旅程（需求侧-商户）
1) 创建商户需求（品牌宣传/课程活动）
2) 选定摄影师与服务套餐（批量/周期）
3) 确认档期与合同条款
4) 支付（可含定金与阶段款）
5) 履约与交付验收（多版本物料）

## 7. 信息架构与功能模块
### 7.1 账号与身份
- 手机号注册/登录
- 实名认证（摄影师/团队强制）
- 团队管理（成员、角色、作品共享）

### 7.2 需求发布
- 需求类型（写真、活动、商业等）
- 地点/时间/预算/人数/场景
- 附加说明与参考样片

### 7.3 供给展示
- 摄影师/团队主页、作品集、报价区间
- 服务标签、城市/场地覆盖、可用档期

### 7.4 匹配与搜索
- 基于位置、预算、风格、档期过滤
- 推荐逻辑（评分、履约率、响应时长）

### 7.5 沟通与报价
- 站内 IM，支持图片/文件
- 方案与报价单（可多轮调整）

### 7.6 订单与支付
- 订单确认与状态流转
- 支付（定金/全款）
- 取消与退款规则

### 7.7 评价与信用
- 多维评价（沟通、专业度、成片质量）
- 用户信用与摄影师信用体系

### 7.8 管理后台
- 资质审核、内容审核
- 订单与纠纷处理
- 数据看板与运营配置

## 8. 核心流程与状态机
### 8.1 订单状态（建议）
`草稿 → 待确认 → 已确认 → 已支付 → 履约中 → 已完成 → 已评价`
- 取消状态：待确认/已确认/已支付可取消（规则差异）

### 8.2 认证状态
`未提交 → 审核中 → 通过 → 驳回 → 重新提交`

## 9. 关键功能需求（细化）
### 9.1 需求发布（用户）
- 必填：类型、城市、时间、预算
- 选填：风格、人数、参考图片
- 需求可编辑与关闭

### 9.2 报价与确认（摄影师/团队）
- 支持多轮报价与备注
- 支持档期锁定

### 9.3 支付与结算
- 支付渠道（待定）：微信/支付宝/银行卡
- 不采用平台托管与资金监管：直付摄影师/商户
- 退款与违约金规则配置化（以直付场景为前提）

### 9.4 评价与纠纷
- 评价后可上传成片/反馈
- 投诉与纠纷入口
- 管理员调解机制

### 9.5 风控与安全
- 黑名单与信用分
- 频繁取消与虚假需求识别
- 未成年人保护提示

## 10. 数据模型（概要）
- **User**：用户基础信息、角色、信用分
- **Photographer/Team**：资质、成员、服务范围
- **Portfolio**：作品集、标签、城市
- **Demand**：需求详情、预算、状态
- **Quote**：报价、方案、有效期
- **Order**：订单状态、金额、时间
- **Payment**：支付记录、退款记录
- **Review**：评分、标签、文本
- **Dispute**：纠纷记录与处理状态

## 11. 非功能需求
- 性能：核心 API P95 延迟 < 300ms
- 可用性：99.9% 可用
- 安全：鉴权、加密、日志审计
- 合规：实名认证、支付合规、隐私协议

## 12. 技术架构（概览）
### 12.1 客户端（移动端/管理后台）
- 移动端：Flutter（iOS/Android）
- 管理后台：React + Ant Design（Web）
- 模块：账号、首页、搜索、聊天、订单、个人中心

### 12.2 后端服务（Rust + Axum）
- 单体后端服务（模块化）：auth、user、photographer、demand、quote、order、payment、message、review、dispute、admin
- 统一 API 入口：/api/v1
- 后续扩展：核心流程稳定后按模块拆分为独立服务并引入 API 网关
- 分层规范：routes（路由注册）/ middleware（鉴权与中间件）/ handlers（控制层）/ services（业务层）/ repositories（数据访问）/ dto（请求响应）/ errors（领域错误）

### 12.3 基础设施（建议）
- 数据库：PostgreSQL
- 缓存：Redis
- 搜索：Meilisearch/Elasticsearch
- 对象存储：S3 兼容
- 消息队列：RabbitMQ/Kafka

## 13. 风险与边界
- 线下履约与违约纠纷
- 未成年人参与拍摄合规
- 盗用作品与版权争议
- 无托管支付导致退款与纠纷处理难度上升
- 线下交易绕过平台

## 14. 里程碑（示例）
- M1：最小可用版本（MVP，发布需求、报价、订单、支付）
- M2：信用体系与纠纷处理
- M3：推荐算法与运营工具

## 15. 待确认事项
- 目标市场/合规范围
- 收费模式与抽佣比例
- 支付采用直付模式（不托管）已确认
